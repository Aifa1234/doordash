!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a1274dec-7845-40d1-9583-c11e5c65b3d6",e._sentryDebugIdIdentifier="sentry-dbid-a1274dec-7845-40d1-9583-c11e5c65b3d6")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54136],{623929:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeUGConfigurationParametersWithGlobal=n.projectUGConfigurationParameters=n.sdkUGConfigurationParameters=void 0,n.sdkUGConfigurationParameters={credentials:"include"},n.projectUGConfigurationParameters={},n.mergeUGConfigurationParametersWithGlobal=e=>{var t,r,i,o,a,l;return Object.assign(Object.assign(Object.assign(Object.assign({},n.sdkUGConfigurationParameters),n.projectUGConfigurationParameters),e),{middleware:[...null!==(t=n.sdkUGConfigurationParameters.middleware)&&void 0!==t?t:[],...null!==(r=n.projectUGConfigurationParameters.middleware)&&void 0!==r?r:[],...null!==(i=e.middleware)&&void 0!==i?i:[]],headers:Object.assign(Object.assign(Object.assign({},null!==(o=n.sdkUGConfigurationParameters.headers)&&void 0!==o?o:{}),null!==(a=n.projectUGConfigurationParameters.headers)&&void 0!==a?a:{}),null!==(l=e.headers)&&void 0!==l?l:{})})}},888382:function(e,n,t){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.TextApiResponse=n.BlobApiResponse=n.VoidApiResponse=n.JSONApiResponse=n.canConsumeForm=n.mapValues=n.querystring=n.exists=n.COLLECTION_FORMATS=n.RequiredError=n.FetchError=n.ResponseError=n.BaseAPI=n.DefaultConfig=n.Configuration=n.BASE_PATH=void 0;let i=t(623929),o=(r=t(86023))&&r.__esModule?r:{default:r};n.BASE_PATH="https://unified-gateway.doordash.com".replace(/\/+$/,"");class a{set config(e){this.configuration=e}get basePath(){var e;return null!==(e=this.configuration.basePath)&&void 0!==e?e:n.BASE_PATH}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||c}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}n.Configuration=a,n.DefaultConfig=new a;class l{withMiddleware(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let r=this.clone();return r.middleware=r.middleware.concat(...n),r}withPreMiddleware(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let r=n.map(e=>({pre:e}));return this.withMiddleware(...r)}withPostMiddleware(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let r=n.map(e=>({post:e}));return this.withMiddleware(...r)}isJsonMime(e){return!!e&&l.jsonRegex.test(e)}async request(e,n){let t;let{url:r,init:i,state:o}=await this.createFetchParams(e,n),a=await this.fetchApi(r,i,{state:o});if(a&&a.status>=200&&a.status<300)return a;let l=a.headers.get("content-type");throw t=l&&-1!==l.indexOf("application/json")?await a.clone().json():await a.clone().text(),new s(a,"Response returned an error code",t)}async createFetchParams(e,n){var t,r,i,o,a,l;let{initOverrides:s,state:u}=null!=n?n:{},d=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(d+="?"+this.configuration.queryParamsStringify(e.query));let c=Object.assign({},this.configuration.headers,e.headers);Object.keys(c).forEach(e=>void 0===c[e]?delete c[e]:{});let p={method:e.method,headers:c,body:e.body,credentials:this.configuration.credentials},f=await ("function"==typeof s?s:async()=>s)({init:p,context:e}),y=Object.assign(Object.assign(Object.assign({},p),f),{method:null!==(t=null==f?void 0:f.method)&&void 0!==t?t:p.method,headers:Object.assign(Object.assign(Object.assign({},this.modelgenHeaders),c),null!==(r=null==f?void 0:f.headers)&&void 0!==r?r:{}),body:null!==(i=null==f?void 0:f.body)&&void 0!==i?i:p.body,credentials:null!==(o=null==f?void 0:f.credentials)&&void 0!==o?o:p.credentials});return{url:d,init:Object.assign(Object.assign({},y),{body:(a=y.body,"undefined"!=typeof FormData&&a instanceof FormData||y.body instanceof URLSearchParams||(l=y.body,"undefined"!=typeof Blob&&l instanceof Blob))?y.body:JSON.stringify(y.body)}),state:null!=u?u:{}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e){this.modelgenHeaders={},this.fetchApi=async(e,n,t)=>{let r,i={url:e,init:n};for(let e of this.middleware)e.pre&&(i=await e.pre(Object.assign(Object.assign({fetch:this.fetchApi},i),{state:t.state}))||i);try{r=await (this.configuration.fetchApi||fetch)(i.url,i.init)}catch(e){for(let n of this.middleware)n.onError&&(r=await n.onError({fetch:this.fetchApi,url:i.url,init:i.init,error:e,response:r?r.clone():void 0,state:t.state})||r);if(void 0===r){if(e instanceof Error)throw new u(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(r=await e.post({fetch:this.fetchApi,url:i.url,init:i.init,response:r.clone(),state:t.state})||r);return r},this.configuration=new a((0,i.mergeUGConfigurationParametersWithGlobal)(null!=e?e:{})),this.middleware=this.configuration.middleware}}n.BaseAPI=l,l.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class s extends Error{constructor(e,n,t){super(n),this.response=e,this.body=t,this.name="ResponseError"}}n.ResponseError=s;class u extends Error{constructor(e,n){super(n),this.cause=e,this.name="FetchError"}}n.FetchError=u;class d extends Error{constructor(e,n){super(n),this.field=e,this.name="RequiredError"}}function c(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let n=Object.assign({},e);return Object.keys(n).forEach(e=>{let t=n[e];Array.isArray(t)&&(n[e]=t.map(e=>"object"==typeof e&&null!==e?JSON.stringify(e):e))}),o.default.stringify(n,{arrayFormat:"repeat",encode:!0,allowDots:!0,strictNullHandling:!0,skipNulls:!0})}n.RequiredError=d,n.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"},n.exists=function(e,n){return null!=e[n]},n.querystring=c,n.mapValues=function(e,n){return Object.keys(e).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:n(e[r])}),{})},n.canConsumeForm=function(e){for(let n of e)if("multipart/form-data"===n.contentType)return!0;return!1};class p{async value(){return this.transformer(await this.raw.json())}constructor(e,n=e=>e){this.raw=e,this.transformer=n}}n.JSONApiResponse=p;class f{async value(){}constructor(e){this.raw=e}}n.VoidApiResponse=f;class y{async value(){return await this.raw.blob()}constructor(e){this.raw=e}}n.BlobApiResponse=y;class g{async value(){return await this.raw.text()}constructor(e){this.raw=e}}n.TextApiResponse=g},794304:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.useQueryUGFromApollo=n.useUGClient=n.UGAppProvider=n.projectUGConfigurationParameters=void 0;let r=t(623929);Object.defineProperty(n,"projectUGConfigurationParameters",{enumerable:!0,get:function(){return r.projectUGConfigurationParameters}});var i=t(769149);Object.defineProperty(n,"UGAppProvider",{enumerable:!0,get:function(){return i.UGAppProvider}}),Object.defineProperty(n,"useUGClient",{enumerable:!0,get:function(){return i.useUGClient}}),Object.defineProperty(n,"useQueryUGFromApollo",{enumerable:!0,get:function(){return i.useQueryUGFromApollo}})},966823:function(e,n,t){var r=Object.create?function(e,n,t,r){void 0===r&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]},i=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n};Object.defineProperty(n,"__esModule",{value:!0}),n.UGAppProvider=n.UGAppContext=void 0;let o=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&r(n,e,t);return i(n,e),n}(t(313773));n.UGAppContext=(0,o.createContext)({config:void 0}),n.UGAppProvider=e=>{let{config:t,children:r}=e;return o.default.createElement(n.UGAppContext.Provider,{value:{config:t}},r)}},830585:function(e,n,t){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.useQueryUGFromApollo=void 0;let i=t(717263),o=t(189127),a=(r=t(313773))&&r.__esModule?r:{default:r},l=t(784976);n.useQueryUGFromApollo=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>{let{shouldUseUnifiedGateway:r,client:s,extraConfigurationParameters:u,queryFn:d,queryKey:c,getResult:p,reactQueryOptions:f,reactQueryClient:y}=t,[g,m]=a.default.useState(!0),v=a.default.useCallback(()=>{m(!1)},[]),h=a.default.useCallback(()=>!!g&&null!=n&&!!n.pollInterval&&(null==n?void 0:n.pollInterval),[g,null==n?void 0:n.pollInterval]),P=a.default.useMemo(()=>"function"==typeof r?r():r,[r]),C=(0,o.useQuery)(e,Object.assign(Object.assign({},n),{skip:P})),[_]=(0,l.useUGClient)(s,u),b=(0,i.useQuery)(Object.assign(Object.assign({refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1},f),{queryFn:()=>d(_),queryKey:c,enabled:P,refetchInterval:h}),y);return a.default.useMemo(()=>Object.assign(Object.assign({},p(C,b)),{stopPolling:P?v:C.stopPolling}),[p,C,b,P])}}},784976:function(e,n,t){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.useUGClient=void 0;let i=(r=t(313773))&&r.__esModule?r:{default:r},o=t(966823),a=t(653315),l=t(49946);n.useUGClient=function(e,n){let t=i.default.useContext(o.UGAppContext),r=i.default.useMemo(()=>"function"==typeof t.config?t.config():t.config,[t.config]);if(!r)throw new a.UGClientError("UGAppContext not found in context. Did you forget to wrap your app with <UGAppProvider></UGAppProvider>?");return[i.default.useMemo(()=>new e((0,l.mergeConfigurationParameters)(r,null!=n?n:{})),[r,n])]}},769149:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.useQueryUGFromApollo=n.useUGClient=n.UGAppProvider=void 0;let r=t(966823);Object.defineProperty(n,"UGAppProvider",{enumerable:!0,get:function(){return r.UGAppProvider}});let i=t(784976);Object.defineProperty(n,"useUGClient",{enumerable:!0,get:function(){return i.useUGClient}});let o=t(830585);Object.defineProperty(n,"useQueryUGFromApollo",{enumerable:!0,get:function(){return o.useQueryUGFromApollo}})},653315:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UGClientError=void 0;class t extends Error{constructor(e,n){super("[@doordash/ug-client] ".concat(e),n),this.info=null==n?void 0:n.info}}n.UGClientError=t},49946:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeConfigurationParameters=void 0,n.mergeConfigurationParameters=(e,n)=>{var t,r,i,o;return Object.assign(Object.assign(Object.assign({},e),n),{middleware:[...null!==(t=e.middleware)&&void 0!==t?t:[],...null!==(r=n.middleware)&&void 0!==r?r:[]],headers:Object.assign(Object.assign({},null!==(i=e.headers)&&void 0!==i?i:{}),null!==(o=n.headers)&&void 0!==o?o:{})})}},830977:function(e,n,t){t.d(n,{iB:function(){return a.i},wV:function(){return l}}),t(361967);var r=t(877182);t(313773),t(872760),t(960021),t(898350),t(993462);var i=t(47092);let o=e=>({query:i.$,options:{fetchPolicy:"network-only",...e}});var a=t(119245);t(902297);let l=e=>{let{query:n,options:t}=o(e);return(0,r.a)(n,t)}},119245:function(e,n,t){t.d(n,{i:function(){return r}});let r=t(313773).createContext({orderCart:{},setOrderCart:()=>{},consumerStripeKey:"",setConsumerStripeKey:()=>{},consumerPaymentCards:[],setConsumerPaymentCards:()=>{},loading:!1,setLoading:()=>{},isRefetching:!1,setIsRefetching:()=>{},error:void 0,setError:()=>{},corporateIndividualOrders:!1,setCorporateIndividualOrders:()=>{},refetch:()=>void 0,setRefetch:()=>{}});r.displayName="CheckoutQueryContext"},47092:function(e,n,t){t.d(n,{$:function(){return l}});var r=t(979994),i=t(860413),o=t(332243);function a(){let e=(0,r._)(["\n  query checkout(\n    $orderCartId: ID!\n    $corporateIndividualOrdersEnabled: Boolean\n    $includeCompanyPaymentInfo: Boolean!\n    $deliveryOptionType: DeliveryOptionType\n    $isCardPayment: Boolean\n    $programId: String\n    $isDashPassUpsellSelected: Boolean\n    $routineReorderItemIds: [String]\n    $selectedBudgetId: String\n    $scheduledTime: String\n    $supplementalPaymentDetailsList: [SupplementalPaymentDetails!]\n    $includeRewardBalanceAvailable: Boolean!\n    $deliveryOptionInfo: DeliveryOptionInfo\n    $landingPageType: LandingPageType\n    $shouldApplyCredits: Boolean\n    $paymentMethodUuid: String\n    $paymentMethodType: PaymentMethodType\n  ) {\n    orderCart(\n      id: $orderCartId\n      corporateIndividualOrdersEnabled: $corporateIndividualOrdersEnabled\n      deliveryOptionType: $deliveryOptionType\n      isCardPayment: $isCardPayment\n      programId: $programId\n      isDashPassUpsellSelected: $isDashPassUpsellSelected\n      routineReorderItemIds: $routineReorderItemIds\n      selectedBudgetId: $selectedBudgetId\n      scheduledTime: $scheduledTime\n      supplementalPaymentDetailsList: $supplementalPaymentDetailsList\n      includeRewardBalanceAvailable: $includeRewardBalanceAvailable\n      deliveryOptionInfo: $deliveryOptionInfo\n      landingPageType: $landingPageType\n      shouldApplyCredits: $shouldApplyCredits\n      paymentMethodUuid: $paymentMethodUuid\n      paymentMethodType: $paymentMethodType\n    ) {\n      ...CheckoutOrderCartFragment\n    }\n  }\n  ","\n"]);return a=function(){return e},e}let l=(0,i.gql)(a(),o.mC)},993462:function(e,n,t){var r=t(283580),i=t.n(r),o=t(313773),a=t(915226);n.Z=e=>{let n=o.useRef("cache-first"),t=(0,a.Z)(e);return void 0===t||i()(t,e)||(n.current="network-only"),n.current}},19994:function(e,n,t){t.d(n,{FV:function(){return l},Su:function(){return i},bc:function(){return c},f6:function(){return a},pw:function(){return d},qy:function(){return o}});var r=t(970501);let i=()=>{let e=new Date;return Math.floor((new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59).getTime()-e.getTime())/1e3)},o=e=>{let n=new Date(e),t=n.getDate(),r=n.getMonth(),i=n.getFullYear(),o=new Date,a=o.getDate(),l=o.getMonth(),s=o.getFullYear();return t==a&&r==l&&i==s},a=e=>{var n,t,r;return(null!==(r=null===(t=e.orders)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.orderItems)&&void 0!==r?r:[]).filter(s).length},l=e=>{if(s(e))return e.id},s=e=>{var n,t;return null==e?void 0:null===(t=e.item)||void 0===t?void 0:null===(n=t.itemTagsList)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.tagType)===u)},u=3,d={[r.sGK.SUPPLEMENTAL_PAYMENT_TYPE_UNSPECIFIED]:0,[r.sGK.SUPPLEMENTAL_PAYMENT_TYPE_SNAP]:1,[r.sGK.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA]:2},c=e=>{var n,t;return{hsaFsaEligibleAmount:null==e?void 0:null===(n=e.supplementalPaymentEligibleAmountsList)||void 0===n?void 0:n.find(e=>{var n;return(null==e?void 0:null===(n=e.amount)||void 0===n?void 0:n.type)===d.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA}),hsaFsaAuthorizedAmount:null==e?void 0:null===(t=e.supplementalAuthorizedPaymentDetailsList)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===r.sGK.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA)}}},915226:function(e,n,t){var r=t(313773);n.Z=e=>{let n=r.useRef();return r.useEffect(()=>{n.current=e}),n.current}},293266:function(e,n,t){t.d(n,{S:function(){return d}});var r=t(313773),i=t(898350),o=t(970501),a=t(19994),l=()=>{let{setSupplementalPaymentDetailsList:e,supplementalPaymentDetailsList:n}=(0,r.useContext)(i.Z);return{applyEligibleSupplementalAmount:(0,r.useCallback)(t=>{var r,i;let{eligibleAmount:o,paymentMethod:a}=t;if(!(null==o?void 0:null===(r=o.amount)||void 0===r?void 0:r.eligibleAmount))return;let{currency:l,displayString:s,decimalPlaces:u,unitAmount:d}=null==o?void 0:null===(i=o.amount)||void 0===i?void 0:i.eligibleAmount;e(n.concat([{authorizedAmount:{currency:l,displayString:s,decimalPlaces:u,unitAmount:d},type:o.amount.type,paymentMethodId:null==a?void 0:a.paymentMethodUuid,paymentCardId:null==a?void 0:a.id}]))},[n,e]),removeAuthorizedSupplementalAmount:(0,r.useCallback)(t=>{let{authorizedAmount:r}=t;r.type===o.sGK.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA&&e(n.filter(e=>e.type!==a.pw.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA))},[n,e])}},s=t(830977),u=t(972173);let d=e=>{let n=(null==e?void 0:e.paymentMethods)||[],{orderCart:t}=(0,r.useContext)(s.iB),i=((null==t?void 0:t.supplementalPaymentEligibleAmountsList)||[]).filter(u.K),a=((null==t?void 0:t.supplementalAuthorizedPaymentDetailsList)||[]).filter(u.K),d=n.find(e=>{var n;return null===(n=e.metadata)||void 0===n?void 0:n.isHsaFsaCard}),c=n.filter(e=>{var n;return!(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.isHsaFsaCard)}),p=i.find(e=>{var n;return(null==e?void 0:null===(n=e.amount)||void 0===n?void 0:n.type)===2}),f=i.find(e=>{var n;return(null==e?void 0:null===(n=e.amount)||void 0===n?void 0:n.type)===1}),y=a.find(e=>(null==e?void 0:e.type)===o.sGK.SUPPLEMENTAL_PAYMENT_TYPE_HSA_FSA),{applyEligibleSupplementalAmount:g,removeAuthorizedSupplementalAmount:m}=l(),v=(0,r.useCallback)(()=>{p&&d&&g({eligibleAmount:p,paymentMethod:d})},[g,p,d]),h=(0,r.useCallback)(()=>{y&&m({authorizedAmount:y})},[m,y]);return{hsaFsaPaymentMethod:d,paymentMethodsWithoutHsaFsa:c,snapEBTEligibleAmount:f,hsaFsaEligibleAmount:p,hsaFsaAuthorizedAmount:y,applyHsaFsaEligibleAmount:v,removeHsaFsaAuthorizedAmount:h}}},340214:function(e,n,t){t.d(n,{U9:function(){return u},vS:function(){return d}});var r=t(979994),i=t(860413);function o(){let e=(0,r._)(["\n  fragment PaymentCardFragment on PaymentCard {\n    id\n    isDefault\n    type\n    stripeId\n    last4\n    expYear\n    expMonth\n    hasExistingCard\n    cardBenefitMembershipLinkStatus\n    cardBenefitMembershipLinkError {\n      code\n      message\n    }\n    metadata {\n      paypalAccount\n      setupIntentClientSecret\n      setupIntentRequiresAction\n      isDashCard\n      isHsaFsaCard\n    }\n    accountDisplayDescription\n    paymentMethodUuid\n    paymentMethodAvailability {\n      paymentMethodAvailabilityStatus\n    }\n    createdAt\n    isPrimaryCardHolder\n    isBusinessDefault\n    paymentTags\n  }\n"]);return o=function(){return e},e}function a(){let e=(0,r._)(["\n  query cacheQuery {\n    consumerPaymentCards {\n      ...PaymentCardFragment\n    }\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return a=function(){return e},e}function l(){let e=(0,r._)(["\n  query cacheReadQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return l=function(){return e},e}let s=(0,i.gql)(o()),u=(0,i.gql)(a(),s),d=(0,i.gql)(l(),s);n.ZP=s},373143:function(e,n,t){t.d(n,{F:function(){return d},v:function(){return c}});var r=t(979994),i=t(860413),o=t(340214),a=t(243892),l=t(616550);function s(){let e=(0,r._)(["\n  query paymentCardQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){let e=(0,r._)(["\n  query paymentMethodQuery(\n    $usePaymentConfigQuery: Boolean!\n    $usePaymentConfigQueryV2: Boolean!\n    $country: String\n  ) {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n      __typename\n    }\n    getPaymentPublicKey {\n      publicKey\n    }\n    # PAYMENT-CONFIG\n    ... @include(if: $usePaymentConfigQuery) {\n      getPaymentConfig {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodFragment\n          __typename\n        }\n        applePayConfig {\n          ...PaymentMethodFragment\n          __typename\n        }\n        googlePayConfig {\n          ...PaymentMethodFragment\n          __typename\n        }\n        paypalConfig {\n          ...PaymentMethodFragment\n          __typename\n        }\n      }\n    }\n    # PAYMENT CONFIG V2\n    ... @include(if: $usePaymentConfigQueryV2) {\n      getPaymentConfigV2(country: $country) {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        paypalConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        applePayConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        googlePayConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        venmoConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        afterpayConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        ebtConfig {\n          ...PaymentMethodConfigV2Fragment\n          __typename\n        }\n        providerConfigs {\n          vgs {\n            ...PaymentProviderConfigV2Fragment\n            __typename\n          }\n          stripe {\n            ...PaymentProviderConfigV2Fragment\n            __typename\n          }\n          braintree {\n            ...PaymentProviderConfigV2Fragment\n            __typename\n          }\n          jpm {\n            ...PaymentProviderConfigV2Fragment\n            __typename\n          }\n        }\n        paymentFrequencyConfig {\n          frequency\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}let d=(0,i.gql)(s(),o.ZP),c=(0,i.gql)(u(),o.ZP,l.ZB,a.E8,a.Hk)},807200:function(e,n,t){t.d(n,{$h:function(){return g},Ec:function(){return c},Ft:function(){return d},NE:function(){return f},Oh:function(){return o},T9:function(){return u},TM:function(){return s},at:function(){return p},e1:function(){return y},uN:function(){return m},xf:function(){return a},yc:function(){return v}});var r,i,o,a,l=t(970501);(r=o||(o={})).CARD="card",r.PAYPAL="PayPal",r.VENMO="Venmo",r.AFTERPAY="Afterpay",r.EBT="EBT",r.CASHAPP="Cashapp",r.HSAFSA="HsaFsa",r.APPLE_PAY="ApplePay",r.GOOGLE_PAY="GooglePay",(i=a||(a={})).APPLE_PAY="Apple Pay",i.UNKNOWN="unknown";let s=new Set(["card","PayPal","Venmo","Afterpay","EBT","Cashapp","HsaFsa"]),u=e=>new Set([...s].filter(n=>{var t;return"card"===n||null!==(t=null==e?void 0:e[n])&&void 0!==t&&t})),d=new Set(["PayPal","Venmo","Afterpay","Cashapp"]),c=new Set([...d,"EBT"]),p=new Set(["EBT"]),f=new Set(["card","Venmo","PayPal","Cashapp"]),y=new Set(["card","Venmo","PayPal","Cashapp"]),g=new Set([...s].filter(e=>!f.has(e))),m=new Set(["card"]);[...s].filter(e=>!m.has(e));let v=e=>(null==e?void 0:e.type)?c.has(e.type)?e.type:l.LtK.Card:void 0},872760:function(e,n,t){t.d(n,{Ft:function(){return o},Hw:function(){return l},Js:function(){return s},b:function(){return a}});var r=t(807200),i=t(455639);let o=e=>null!=e&&e.type===r.Oh.PAYPAL,a=e=>(null==e?void 0:e.type)===r.Oh.VENMO,l=(e,n,t)=>!(n||null===e||o(e)||a(e))||((0,i.j)("is_card_payment_failure",{type:null==e?void 0:e.type,last4:null==e?void 0:e.last4,is_apple_pay:n,entry_point:t}),!1),s=(e,n,t,o)=>{let a=e===r.Oh.CARD&&!n;return a||(0,i.j)("is_card_payment_failure",{type:e,last4:t,is_apple_pay:n,entry_point:o,is_inferred_payment:!0}),a}},960021:function(e,n,t){t.d(n,{N:function(){return s},z:function(){return u}});var r=t(313773),i=t(877182),o=t(243892),a=t(915727),l=t(373143);let s=(e,n)=>{var t,s,u,d,c,p,f,y,g,m,v,h,P,C;let _;let b=(0,a.v)(),A={...e,variables:{...null==e?void 0:e.variables,country:null!==(y=null==e?void 0:null===(t=e.variables)||void 0===t?void 0:t.country)&&void 0!==y?y:b,usePaymentConfigQuery:!0,usePaymentConfigQueryV2:!0}},E=(0,i.a)(n?l.F:l.v,{fetchPolicy:"cache-first",errorPolicy:"all",...A,nextFetchPolicy:"cache-first"}),M=null!==(g=null==E?void 0:null===(s=E.data)||void 0===s?void 0:s.getPaymentMethodList)&&void 0!==g?g:[],O=null!==(m=null==E?void 0:null===(u=E.data)||void 0===u?void 0:u.getPaymentConfigV2)&&void 0!==m?m:null,w=r.useMemo(()=>(0,o.k4)(O),[O]);_=O?w:null!==(h=null==E?void 0:null===(v=E.data)||void 0===v?void 0:v.getPaymentConfig)&&void 0!==h?h:null;let F={paymentCards:M,consumerStripeKey:null!==(C=null!==(P=null==O?void 0:null===(c=O.providerConfigs)||void 0===c?void 0:null===(d=c.stripe)||void 0===d?void 0:d.key)&&void 0!==P?P:null==E?void 0:null===(f=E.data)||void 0===f?void 0:null===(p=f.getPaymentPublicKey)||void 0===p?void 0:p.publicKey)&&void 0!==C?C:"",paymentConfig:_,paymentConfigV2:O,loading:E.loading,error:E.error};return{...E,data:F}},u=e=>{let{data:n,loading:t,error:r,refetch:i}=s(e),o=n.paymentCards;return{loading:t,error:r,refetch:i,data:o&&o.find(e=>e.isDefault)||null}}},249478:function(e,n,t){let r;t.d(n,{ac:function(){return s}});var i=t(313773),o=t(823302),a=t(168416),l=t(419297);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultMediaQuery:n,isNotSingleton:t}=e;(!r||t)&&(r=new a.ZP);let s=r.getMediaQuery(),d=(0,o.qr)(e=>e.isMobileServerSide);(0,l.s)()&&(s=d?a.zP.mobile:a.zP.desktop);let[c,p]=i.useState(null!=n?n:s);return i.useEffect(()=>(r.watchMediaQuery(p),()=>{r.stopWatchingMediaQuery(p)}),[]),{mediaQuery:c,...u(c)}},u=e=>{let n=e===a.zP.mobile,t=e===a.zP.mobile||e===a.zP.phablet,r=e===a.zP.phablet,i=e===a.zP.tablet,o=e===a.zP.desktop,l=e===a.zP.widescreen;return{isMobileOnly:n,isMobile:t,isPhablet:r,isTablet:i,isDesktop:o,isWidescreen:l,isMobileTablet:t||i,isPhabletTablet:r||i,isTabletDesktop:i||o,isDesktopWidescreen:o||l}};n.ZP=e=>{let{children:n,defaultMediaQuery:t,isNotSingleton:r}=e,i=s({defaultMediaQuery:t,isNotSingleton:r});return n(i.mediaQuery,{isMobile:i.isMobile,isMobileOnly:i.isMobileOnly,isPhablet:i.isPhablet,isTablet:i.isTablet,isDesktop:i.isDesktop,isWidescreen:i.isWidescreen,isPhabletTablet:i.isPhabletTablet,isTabletDesktop:i.isTabletDesktop,isMobileTablet:i.isMobileTablet,isDesktopWidescreen:i.isDesktopWidescreen})}},168416:function(e,n,t){t.d(n,{BN:function(){return c},Gh:function(){return u},MN:function(){return a},ZP:function(){return d},oh:function(){return l},rN:function(){return s},zP:function(){return i}});var r,i,o=t(892690);let a=o.Breakpoints.wideScreen,l=o.Breakpoints.desktop,s=o.Breakpoints.tablet,u=o.Breakpoints.mobile;(r=i||(i={})).widescreen="widescreen",r.desktop="desktop",r.tablet="tablet",r.phablet="phablet",r.mobile="mobile";class d{getMediaQuery(){return this.currentMediaQuery}onScreenResize(){let e=c(p());this.currentMediaQuery!==e&&(this.currentMediaQuery=e,this.triggerCallbackHandlers())}triggerCallbackHandlers(){this.callbackHandlers.forEach(e=>e(this.currentMediaQuery))}watchMediaQuery(e){this.callbackHandlers.push(e),this.listeningMediaQueries||(this.listeningMediaQueries=!0,window.addEventListener("resize",()=>this.onScreenResize()),this.onScreenResize())}stopWatchingMediaQuery(e){this.callbackHandlers.splice(this.callbackHandlers.indexOf(e),1)}constructor(){this.currentMediaQuery=c(p()),this.listeningMediaQueries=!1,this.callbackHandlers=[]}}let c=e=>e>=a?"widescreen":e>=l?"desktop":e>=s?"tablet":e>u?"phablet":"mobile",p=()=>window.innerWidth},616550:function(e,n,t){t.d(n,{LK:function(){return u},ZB:function(){return s}});var r=t(979994),i=t(313773),o=t(860413),a=t(243892);function l(){let e=(0,r._)(["\n  fragment PaymentMethodFragment on PaymentMethodConfig {\n    provider\n    key\n    country\n    zipRequired\n  }\n"]);return l=function(){return e},e}let s=(0,o.gql)(l()),u=(e,n)=>{let t=(0,a.ZP)(e,n);return i.useMemo(()=>(0,a.k4)(t),[t])}},243892:function(e,n,t){t.d(n,{E8:function(){return u},Hk:function(){return d},k4:function(){return f}});var r=t(979994),i=t(860413),o=t(877182);function a(){let e=(0,r._)(["\n  fragment PaymentMethodConfigV2Fragment on PaymentMethodV2Config {\n    provider\n    zipRequired\n    fraudConfigs {\n      key\n      provider\n    }\n    capabilities\n    availabilityStatus\n  }\n"]);return a=function(){return e},e}function l(){let e=(0,r._)(["\n  fragment PaymentProviderConfigV2Fragment on PaymentMethodProviderConfigData {\n    key\n    country\n    accountId\n    environment\n  }\n"]);return l=function(){return e},e}function s(){let e=(0,r._)(["\n  ","\n\n  ","\n\n  query getPaymentConfigV2($country: String) {\n    getPaymentConfigV2(country: $country) {\n      paymentConfigToken\n      cardConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      paypalConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      applePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      googlePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      venmoConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      afterpayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      ebtConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      providerConfigs {\n        vgs {\n          ...PaymentProviderConfigV2Fragment\n        }\n        stripe {\n          ...PaymentProviderConfigV2Fragment\n        }\n        braintree {\n          ...PaymentProviderConfigV2Fragment\n        }\n        jpm {\n          ...PaymentProviderConfigV2Fragment\n        }\n      }\n      paymentFrequencyConfig {\n        frequency\n        __typename\n      }\n    }\n  }\n"]);return s=function(){return e},e}let u=(0,i.gql)(a()),d=(0,i.gql)(l()),c=(0,i.gql)(s(),u,d),p=(e,n)=>{var t,r;if(!n||!e)return{country:null,key:null};let i=e[n];return{country:null!==(t=null==i?void 0:i.country)&&void 0!==t?t:null,key:null!==(r=null==i?void 0:i.key)&&void 0!==r?r:null}},f=e=>{var n,t,r,i,o,a,l,s,u,d,c,f,y,g,m,v,h,P,C,_;return e?{__typename:"PaymentConfig",paymentConfigToken:null==e?void 0:e.paymentConfigToken,cardConfig:{__typename:"PaymentMethodConfig",provider:null!==(y=null===(n=e.cardConfig)||void 0===n?void 0:n.provider)&&void 0!==y?y:null,zipRequired:null!==(g=null==e?void 0:null===(t=e.cardConfig)||void 0===t?void 0:t.zipRequired)&&void 0!==g?g:null,...p(e.providerConfigs,null===(r=e.cardConfig)||void 0===r?void 0:r.provider)},applePayConfig:{__typename:"PaymentMethodConfig",provider:null!==(m=null===(i=e.applePayConfig)||void 0===i?void 0:i.provider)&&void 0!==m?m:null,zipRequired:null!==(v=null===(o=e.applePayConfig)||void 0===o?void 0:o.zipRequired)&&void 0!==v?v:null,...p(e.providerConfigs,null===(a=e.applePayConfig)||void 0===a?void 0:a.provider)},googlePayConfig:{__typename:"PaymentMethodConfig",provider:null!==(h=null===(l=e.googlePayConfig)||void 0===l?void 0:l.provider)&&void 0!==h?h:null,zipRequired:null!==(P=null===(s=e.googlePayConfig)||void 0===s?void 0:s.zipRequired)&&void 0!==P?P:null,...p(e.providerConfigs,null===(u=e.googlePayConfig)||void 0===u?void 0:u.provider)},paypalConfig:{__typename:"PaymentMethodConfig",provider:null!==(C=null===(d=e.paypalConfig)||void 0===d?void 0:d.provider)&&void 0!==C?C:null,zipRequired:null!==(_=null===(c=e.paypalConfig)||void 0===c?void 0:c.zipRequired)&&void 0!==_?_:null,...p(e.providerConfigs,null===(f=e.paypalConfig)||void 0===f?void 0:f.provider)},v2:e}:null};n.ZP=(e,n)=>{var t,r;let i=(0,o.a)(c,{fetchPolicy:"cache-first",errorPolicy:"all",variables:{country:e},skip:n});return null!==(r=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.getPaymentConfigV2)&&void 0!==r?r:null}},915727:function(e,n,t){t.d(n,{v:function(){return o}});var r=t(278884),i=t(805990);let o=()=>{var e;let{consumer:n}=(0,r.R)();return null===(e=(0,i.ed)(n.defaultAddress))||void 0===e?void 0:e.countryCode}},628837:function(e,n,t){t.d(n,{Qy:function(){return i},hr:function(){return o}});var r=t(970501);let i=e=>!!e&&void 0!==e.restaurant&&!0!==e.groupCart&&e.fulfillmentType===r.LK5.Virtual,o=e=>e===r.LK5.Virtual},555121:function(e,n,t){t.d(n,{Lt:function(){return s},My:function(){return a},O3:function(){return l},rP:function(){return u}});var r=t(262679),i=t(751313);let o="dd_order_scheduled",a=e=>{let n="".concat(o,"_").concat(e);return null!==(0,i.vQ)(n)},l=e=>{let n="".concat(o,"_").concat(e),t=parseInt((0,i.vQ)(n)||"",10);return!t||isNaN(t)?0:t},s=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;try{let r="".concat(o,"_").concat(e);(0,i.pC)(r,"".concat(n),t)}catch(e){(0,r.eN)({level:"error",message:e.message||"Error on scheduledOrderUtils setLargestMinLeadTime"})}},u=e=>{try{let n="".concat(o,"_").concat(e);(0,i.pC)(n,"",-1)}catch(e){(0,r.eN)({level:"error",message:e.message||"Error on scheduledOrderUtils deleteLargestMinLeadTime"})}}},213463:function(e,n,t){t.d(n,{Il:function(){return c},Yh:function(){return a},f0:function(){return d},r:function(){return o}});var r,i,o,a,l=t(647003),s=t(613033),u=t(264124);(r=o||(o={})).AddToCart="cx_add_to_cart",r.UpdateCart="cx_update_cart",r.DeleteCart="cx_delete_cart",r.AddConsumerAddress="cx_create_address",r.UpdateConsumerAddress="cx_set_address",r.AddPaymentMethod="cx_add_payment_method",r.SetPaymentMethod="cx_set_payment_method",r.SubmitOrder="cx_place_order",r.SubscribeDashPass="cx_subscribe_dashpass",r.RedeemDashPass="cx_redeem_dashpass",r.RedeemDashPassFamily="cx_redeem_dashpass_family",r.CancelDashPass="cx_cancel_dashpass",r.SendDashPassGift="cx_send_dashpass_gift",r.PauseDashPass="cx_pause_dashpass",r.UnpauseDashPass="cx_unpause_dashpass",(i=a||(a={})).ClickedButton="cx_clicked_button",i.HoveredElement="cx_hovered_element",i.TypedInput="cx_typed_input",i.UnCategorized="cx_uncategorized";let d=e=>e?(0,u.Uc)(e):u.KG.UNKNOWN,c=(e,n)=>{let t={name:n.name,type:n.type,client_source:n.client_source,[l.FR]:(0,l.VH)(n[l.FR])},r=n=>{e(s.u.page_action,{...n||{},...t})};return{trackSuccess:e=>r({...e,is_success:!0,name:n.name,type:n.type}),trackFailure:e=>r({...e,is_success:!1,name:n.name,type:n.type})}}},436690:function(e,n,t){t.d(n,{Q:function(){return d}});var r=t(653795),i=t.n(r),o=t(313773),a=t(455639),l=t(823302),s=t(213463),u=t(647003);function d(e){let n=(0,l.qr)(e=>e.pageType),t=(0,s.f0)(n);return o.useMemo(()=>{if(!e)return{trackFailure:()=>{},trackSuccess:()=>{}};let{trackFailure:n,trackSuccess:r}=(0,s.Il)(a.j,{name:e.name,type:e.type,[u.FR]:e[u.FR],client_source:t});return{trackFailure:i()(n),trackSuccess:i()(r)}},[e,t])}},590087:function(e,n,t){t.d(n,{Y:function(){return o},x:function(){return i}});var r=t(888382);let i=e=>{var n,t,r;let i={displayErrorMessage:null!==(t=e.message)&&void 0!==t?t:"unable to get apollo error message. Check gqlErrorCode in custom attrs for more info",type:"server"};if(e.networkError)return e.networkError.statusCode&&"number"==typeof e.networkError.statusCode&&(i.httpStatusCode=e.networkError.statusCode,i.httpStatusCode>=400&&i.httpStatusCode<500&&(i.type="client")),e.message?i.displayErrorMessage=e.message:e.graphQLErrors?i.displayErrorMessage=e.graphQLErrors[0].message:e.clientErrors&&(i.displayErrorMessage=e.clientErrors[0].message),i;if(!Array.isArray(e.graphQLErrors))return i;let o=e.graphQLErrors[0];switch(null!==(r=null==o?void 0:null===(n=o.extensions)||void 0===n?void 0:n.code)&&void 0!==r?r:""){case"BAD_USER_INPUT":case"OPERATION_RESOLUTION_FAILURE":case"BAD_REQUEST":case"GRAPHQL_PARSE_FAILED":case"GRAPHQL_VALIDATION_FAILED":case"DOORDASH_EMPLOYEE_ERROR":i.httpStatusCode=400,i.type="client",i.displayErrorMessage=o.message;break;case"INTERNAL_SERVER_ERROR":i.httpStatusCode=500,i.type="server",i.displayErrorMessage=o.message;break;case"UNAUTHENTICATED":case"DOORDASH_MFA_ERROR":i.httpStatusCode=401,i.type="client",i.displayErrorMessage=o.message;break;case"FORBIDDEN":i.httpStatusCode=403,i.type="client",i.displayErrorMessage=o.message;break;case"DD_CONSUMER_INFO_NOT_FOUND":i.httpStatusCode=404,i.type="client",i.displayErrorMessage=o.message}return i};function o(e){if(!(e instanceof Error))return{displayErrorMessage:"Unable to map React Query Error To DDError",type:"server"};if(e instanceof r.ResponseError){let{response:n}=e;return{httpStatusCode:n.status,displayErrorMessage:e.message,type:n.status>=500?"server":"client"}}if(e instanceof r.FetchError){let{cause:n}=e;return{displayErrorMessage:n.message||e.message,type:"client"}}return e instanceof r.RequiredError?{displayErrorMessage:e.message,type:"client"}:{displayErrorMessage:e.message,type:"server"}}},972173:function(e,n,t){t.d(n,{K:function(){return r}});function r(e){return null!==e}}}]);
//# sourceMappingURL=54136-ba4fd7cd8b1280d0.js.map