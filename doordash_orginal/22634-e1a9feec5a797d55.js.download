
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d47c832c-4d85-5dbc-846f-a239a3461c01")}catch(e){}}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="cb25d382-c7cc-4a03-a7e4-ef5240fa7661",e._sentryDebugIdIdentifier="sentry-dbid-cb25d382-c7cc-4a03-a7e4-ef5240fa7661")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22634],{971456:function(e,l,i){var t=i(918564),n=i(645827);let o=(0,t.default)(n.default).withConfig({componentId:"sc-ea92ad6f-0"})(["transform:rotate(",");transition:transform 0.2s ease-out;"],e=>{let{direction:l}=e;return"up"===l?"0deg":"-180deg"});l.Z=o},871870:function(e,l,i){i.d(l,{$:function(){return n}});var t=i(822489);let n=e=>t.stringify(Object.entries(e).reduce((e,l)=>{let[i,t]=l,n="string"==typeof t?t.split(","):t;return{...e,...t&&"false"!==t?{[i]:n}:{}}},{}))},821736:function(e,l,i){i.d(l,{K:function(){return g}});var t=i(361967),n=i(313773),o=i(469894),r=i(549736),d=i(117874),a=i(484497),u=i(731690),s=i(48862),c=i(637736),v=i(833890);let f=(0,o.default)(()=>Promise.all([i.e(38305),i.e(22888)]).then(i.bind(i,822888)).then(e=>e.FilterSheet),{loadableGenerated:{webpack:()=>[822888]},ssr:!1}),g=e=>{let{pillFiltersState:l,searchQuery:i,storeId:o,filterSheetSource:g,onFilterSheetUpdate:p,filterKeysToHide:m=[]}=e,[_,h]=n.useState(!1),b=Object.entries(l).filter(e=>{let[l,i]=e;return!!i&&!m.includes(l)}).length,y=b>0,x=b>0?u.ZP.t("filterSheet_pillFilterNameWithCount",{filterCount:b}):u.ZP.t("filterSheet_pillFilterName"),{ref:C,clickHandler:E}=(0,c.wS)(v.bW.FILTER_SHEET_PILL,{entityType:"none"},{},{customAttrs:{view_id:"pill.filter_sheet"}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.k,{buttonRef:C,type:r.ButtonType.tertiary,isInline:!0,size:d.qE.small,onClick:()=>{E(),h(!0)},leadingIcon:a.IconType.FilterFill,isComponentCatalogDesign:!0,isToggled:y,children:x}),_&&(0,t.jsx)(f,{onHandleFilterSheetUpdate:e=>{let{filtersState:l,shouldCloseFilterSheet:i}=e;p(l),i&&h(!1)},pillFiltersState:l,source:g,searchQuery:i,storeId:o})]})}},62754:function(e,l,i){i.d(l,{g:function(){return n}});var t=i(970501);let n=e=>{let{pillFilter:l,pillFilterId:i}=e,n=l.backendFilterId,o=null!=n?n:i,r=l.rangeDirection;return r&&r!==t.x$T.RANGE_DIRECTION_UNSPECIFIED?"".concat(o,"-").concat(r):o}},536112:function(e,l,i){i.d(l,{v:function(){return o}});var t=i(189785),n=i(970501);let o=e=>{var l,i,o,r,d;let{pillFilterType:a,pillFiltersState:u,pillFilterKey:s,pillFilter:c,subCategoryUrlSlug:v}=e;if(a===n.Jb9.FILTER_TYPE_L2)return(0,t.r6)(v).id===c.id;let f=u[s],g=null!==(o=null===(i=c.allowedValues)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.queryValue)&&void 0!==o?o:"";if(c.radioGroupId){if(Array.isArray(f))return(null==f?void 0:f[0])===g;if("string"==typeof f)return f===(null===(d=c.allowedValues)||void 0===d?void 0:null===(r=d[0])||void 0===r?void 0:r.queryValue)}return c.backendFilterId?Array.isArray(f)?f.includes(g):f===g:!!f}},492566:function(e,l,i){i.d(l,{G:function(){return n},z:function(){return t}});let t=e=>{let l={};return Object.entries(e).forEach(e=>{let[i,t]=e,n="string"==typeof t&&t.includes(",");if(i.includes("RANGE_DIRECTION")&&"string"==typeof t){l[i]=n?t.split(","):[t];return}l[i]=n?t.split(","):t}),l},n=e=>{let l=[],i=[];return Object.entries(e).forEach(e=>{let[t,n]=e;l.push(t),Array.isArray(n)?i.push(n.join(",")):i.push(null!=n&&n)}),{filters:l,values:i}}},618006:function(e,l,i){i.d(l,{F9:function(){return t},Yi:function(){return n}});let t="in_store_search_query",n="global_search_query"},767967:function(e,l,i){i.d(l,{h:function(){return x}});var t=i(361967);i(313773);var n=i(549736),o=i(117874),r=i(902093),d=i(22649),a=i(509300),u=i(700252),s=i(325647),c=i(918564),v=i(159967),f=i(645827),g=i(431325),p=i(484497),m=i(858223),_=i(141445);let h=e=>!!e&&"string"!=typeof e&&!!e.image,b=e=>{let{image:l,customImageSize:i,iconColor:n,isSelected:o}=e;if(!l)return null;if(h(l))return(0,t.jsx)(_.m,{swatch:l,swatchSize:i||v.Q2.usage.size.xSmall,isSelected:o});let r=l?m.X[l]:void 0;return r?(0,t.jsx)(f.default,{size:g.J.small,type:r,color:null!=n?n:p.EY.currentColor}):null};var y=i(48862);let x=e=>{let{pillFilterName:l,pillFilterImage:i,onFilterPillClick:c,isFilterSelected:v,iconColor:f,customImageSize:g,customFilterPadding:p,isComponentCatalogDesign:m,isLoading:_}=e;return(0,t.jsx)(y.k,{isToggleable:!0,isToggled:v,type:n.ButtonType.primary,size:o.qE.small,onClick:c,isComponentCatalogDesign:m,children:(0,t.jsx)(C,{customFilterPadding:p,isLoading:_,children:(0,t.jsxs)(r.default,{alignItems:d.v2.center,size:a.O8.xxSmall,children:[i&&(0,t.jsx)(b,{image:i,customImageSize:g,iconColor:f,isSelected:v}),(0,t.jsx)("div",{children:l}),_&&(0,t.jsx)("div",{className:"Loading-Spinner",children:(0,t.jsx)(u.Loading,{size:s.E$.xSmall})})]})})})},C=c.default.div.withConfig({componentId:"sc-432b37db-0"})(["padding:",";opacity:",";"],e=>null==e?void 0:e.customFilterPadding,e=>e.isLoading?"0.5":"1");C.displayName="FilterContentContainer"},900338:function(e,l,i){i.d(l,{M:function(){return S}});var t=i(361967),n=i(313773),o=i(918564),r=i(888698),d=i(580487),a=i(222047),u=i(560930),s=i(655914),c=i(190510),v=i(549736),f=i(117874),g=i(269103),p=i(509300),m=i(484497),_=i(431325),h=i(700252),b=i(325647),y=i(902093),x=i(22649),C=i(918821),E=i(159967),w=i(971456),T=i(731690),I=i(48862);let S=e=>{let{onDropdownPrimaryClick:l,onDropdownSecondaryClick:i,pillFilterName:o,allowedValues:y,primaryCtaLabelOverride:x,secondaryCtaLabelOverride:C,getDescriptionTextOverride:E,selectedValues:S,isComponentCatalogDesign:R,isLoading:z}=e,[P,M]=n.useState(!1),[D,H]=n.useState(S),O=n.useRef(null),N=S.length>0,V=null!=x?x:T.ZP.t("pillFilter_apply"),Q=null!=C?C:T.ZP.t("pillFilter_reset"),q=null!=E?E:e=>T.ZP.t("pillFilter_selected",{count:e});return(n.useEffect(()=>{H(S)},[S]),y&&0!==y.length)?(0,t.jsx)(r.default,{interactionType:d.F$.controlled,isVisible:P,onVisibilityChange:e=>{M(e),H(S)},alignMenu:d.ff.bottomLeft,boundariesElement:a.Q$.viewport,content:[{customContent:(0,t.jsxs)(F,{children:[(0,t.jsx)("span",{children:(0,t.jsx)(u.Text,{size:s.yH.small,children:null==q?void 0:q(D.length)})}),(0,t.jsx)("div",{children:(0,t.jsx)(c.default,{type:v.ButtonType.tertiary,size:f.qE.small,onClick:()=>{i(),M(!1)},children:Q})})]}),hasSeparator:!0},{customContent:(0,t.jsx)(k,{ref:e=>{O.current=e},children:(0,t.jsx)(A,{children:y.map(e=>{let l=null==e?void 0:e.queryValue,i=null==e?void 0:e.displayName;return l&&i?(0,t.jsx)("li",{"data-brand-key":l,children:(0,t.jsx)(g.default,{"data-brand-key":l,isSelected:!!l&&D.includes(l),label:i,onChange:e=>{H(i=>e?[...i,l]:i.filter(e=>e!==l))}})},l):null})})})},{customContent:(0,t.jsx)(L,{horizontalSize:p.wM.xxSmall,verticalSize:p.wM.none,children:(0,t.jsx)(c.default,{size:f.qE.small,onClick:()=>{l(D),M(!1)},children:V})})}],renderMenuControl:e=>{let{accessibilityAttributes:l,describedBy:i}=e;return(0,t.jsx)(I.k,{"aria-describedby":i,type:v.ButtonType.secondary,size:f.qE.small,...l,onClick:()=>M(!P),isToggleable:!0,isToggled:N,isComponentCatalogDesign:R,children:(0,t.jsxs)(j,{isLoading:z,children:[(0,t.jsx)("span",{children:o}),(0,t.jsx)(w.Z,{type:m.IconType.ChevronDown,direction:P?"down":"up",size:_.J.small,color:N?m.EY.icon.inverse.default:m.EY.icon.default}),z&&(0,t.jsx)("div",{className:"Loading-Spinner",children:(0,t.jsx)(h.Loading,{size:b.E$.xSmall})})]})})},menuContainerStyles:{width:270}}):null},j=(0,o.default)(y.default).attrs(()=>({alignItems:x.v2.center,size:p.O8.xxxSmall})).withConfig({componentId:"sc-56309004-0"})(["opacity:",";"],e=>e.isLoading?"0.5":"1");j.displayName="ButtonDisplayContent";let F=o.default.div.withConfig({componentId:"sc-56309004-1"})(["display:flex;justify-content:space-between;margin:0 ",";align-items:center;"],p.wM.medium),k=o.default.div.withConfig({componentId:"sc-56309004-2"})(["max-height:","px;overflow:auto;"],240),A=o.default.ul.withConfig({componentId:"sc-56309004-3"})(["list-style:none;padding:0 ",";margin:0;> li{margin:"," 0;}"],p.wM.medium,p.wM.xSmall),L=(0,o.default)(C.default).withConfig({componentId:"sc-56309004-4"})(["padding:"," "," "," ",";border-top:1px solid ",";"],p.wM.medium,p.wM.xSmall,p.wM.xSmall,p.wM.xSmall,e=>{let{isTopBorderVisible:l}=e;return l?E.Q2.usage.color.background.selected:"transparent"})},48862:function(e,l,i){i.d(l,{k:function(){return v}});var t=i(361967);i(313773);var n=i(918564),o=i(902093),r=i(22649),d=i(645827),a=i(484497),u=i(190510),s=i(159967),c=i(655914);let v=e=>{let{children:l,isComponentCatalogDesign:i,buttonRef:n,...s}=e,{isToggled:c,onClick:v,leadingIcon:g}=s;return i?(0,t.jsx)(f,{"data-testid":"componentCatalogPillFilter",isToggled:!!c,onClick:v,ref:n,children:(0,t.jsxs)(o.default,{alignItems:r.v2.center,children:[g&&(0,t.jsx)(d.default,{type:g,color:c?a.EY.icon.inverse.default:a.EY.icon.default}),l]})}):(0,t.jsx)(u.default,{...s,children:l})},f=n.default.button.withConfig({componentId:"sc-a0b95bdb-0"})(["border-radius:",";background-color:",";border:1px solid ",";color:",";font-family:",";font-size:",";font-weight:",";min-height:",";cursor:pointer;max-width:100%;padding:0 ",";"],s.Q2.usage.borderRadius.full,e=>e.isToggled?s.Q2.usage.color.background.selected:s.Q2.usage.color.background.elevated.default,s.Q2.usage.color.border.default,e=>e.isToggled?c.d9.text.inverse.default:c.d9.text.default,c.TextStyle.label.medium.default.fontFamily,c.TextStyle.label.small.default.size,c.TextStyle.label.medium.strong.fontWeight,s.Q2.usage.size.action.small,s.Q2.usage.space.small)},956968:function(e,l,i){i.d(l,{A:function(){return n}});var t=i(537035);let n=e=>{let{defaultItemHeight:l,children:i,skipHeightMap:n=!1}=e;if(n)return{finalItemHeight:l,nvHeightMap:null};let o=(0,t._5)({children:i,isGridItem:!1});return{finalItemHeight:(0,t.zV)(o)||l,nvHeightMap:o}}},494247:function(e,l,i){i.d(l,{y:function(){return n}});var t=i(166331);let n=[t.kF.CARD_FLEXIBLE_ITEM_SQUARE,t.kF.CARD_RETAIL_ITEM_CARD]},537035:function(e,l,i){i.d(l,{_5:function(){return f},zV:function(){return g}});var t=i(210079),n=i(166331),o=i(494247),r=i(481890);let d={calloutDisplayString:1,additionalVariantsInfo:1,rating:1,pricePerWeight:1,price:1,memberPrice:2,subtext:1,superscriptedPrice:1.5,standardBadgeAndText:1},a=e=>{let{badgeCount:l=0,extraHeightContent:i,defaultHeight:n=r.Tw,defaultContent:o=2,additionalHeightPerContent:a}=e,u=l;Object.entries(d).forEach(e=>{let[l,t]=e;(null==i?void 0:i[l])&&(u+=t)});if(u<=o)return n;a=a||t.m7;let s=(u-o)*a;return n+Math.min((8-o-o)*a,s)},u=e=>{let l,{isItemFirstSearch:i,heightOptions:n}=e;i&&(l={maxHeight:t.Cx,minHeight:(null==n?void 0:n.defaultHeight)||r.Tw});let o=a(n||{});return(l={...l,height:o}).maxHeight&&(l.maxHeight=Math.max(l.maxHeight,o)),l},s=(e,l)=>{if(!e)return 0;let i=20*Math.min(Math.ceil(e.length/20),3);return l&&(i+=4),i},c=e=>{var l,i,n,o,d,a,c,v,f,g,p,m,_,h,b,y,x,C,E,w,T,I,S,j,F,k,A,L,R,z,P,M,D,H,O,N,V,Q,q,Z,B,Y,$,G,U,W,K,X,J,ee,el,ei,et,en,eo,er,ed,ea,eu,es,ec,ev,ef,eg,ep,em,e_,eh,eb,ey,ex,eC,eE,ew,eT,eI;let{data:eS,isMobile:ej=!1,isGridItem:eF=!0}=e,ek=!!(null===(i=eS.custom)||void 0===i?void 0:null===(l=i.logging)||void 0===l?void 0:l.is_item_first_search),eA=null!==(er=null===(n=eS.custom)||void 0===n?void 0:n.price_name_info)&&void 0!==er?er:{},eL=!!(null==eA?void 0:eA.metadata_entries),eR=Object.keys(eA).find(e=>"default"!==e)||"default",ez=s(null!==(ed=null==eA?void 0:null===(d=eA[eR])||void 0===d?void 0:null===(o=d.base)||void 0===o?void 0:o.name)&&void 0!==ed?ed:null==eA?void 0:null===(a=eA.metadata_entries)||void 0===a?void 0:a.name,eL),eP=(null===(c=null!==(ea=null==eA?void 0:null===(v=eA.metadata_entries)||void 0===v?void 0:v.metadata_entries)&&void 0!==ea?ea:[])||void 0===c?void 0:c.length)||(null!==(eu=null===(f=eS.custom)||void 0===f?void 0:f.badges)&&void 0!==eu?eu:[]).length,eM=!!(null==eA?void 0:null===(p=eA[eR])||void 0===p?void 0:null===(g=p.base)||void 0===g?void 0:g.callout_display_string),eD=!!((null==eA?void 0:null===(m=eA.variants)||void 0===m?void 0:m.additional_variants_text)||(null==eA?void 0:null===(_=eA.variants)||void 0===_?void 0:_.swatches)),eH=!!(null!==(es=null==eA?void 0:null===(y=eA[eR])||void 0===y?void 0:null===(b=y.base)||void 0===b?void 0:null===(h=b.ratings)||void 0===h?void 0:h.average)&&void 0!==es&&es),eO=!!(null!==(ec=null==eA?void 0:null===(C=eA[eR])||void 0===C?void 0:null===(x=C.base)||void 0===x?void 0:x.price_per_weight)&&void 0!==ec&&ec),eN=!!(null!==(ef=null!==(ev=null==eA?void 0:null===(w=eA.metadata_entries)||void 0===w?void 0:null===(E=w.price)||void 0===E?void 0:E.regular_price)&&void 0!==ev?ev:null==eA?void 0:null===(I=eA.metadata_entries)||void 0===I?void 0:null===(T=I.price)||void 0===T?void 0:T.discount_price)&&void 0!==ef&&ef)||!!(null!==(ep=null!==(eg=null==eA?void 0:null===(F=eA[eR])||void 0===F?void 0:null===(j=F.base)||void 0===j?void 0:null===(S=j.price)||void 0===S?void 0:S.regular_price)&&void 0!==eg?eg:null==eA?void 0:null===(L=eA[eR])||void 0===L?void 0:null===(A=L.base)||void 0===A?void 0:null===(k=A.price)||void 0===k?void 0:k.discount_price)&&void 0!==ep&&ep),eV=!!(null!==(e_=null!==(em=null==eA?void 0:null===(P=eA[eR])||void 0===P?void 0:null===(z=P.base)||void 0===z?void 0:null===(R=z.price)||void 0===R?void 0:R.regular_price_v2)&&void 0!==em?em:null==eA?void 0:null===(H=eA[eR])||void 0===H?void 0:null===(D=H.base)||void 0===D?void 0:null===(M=D.price)||void 0===M?void 0:M.discount_price_v2)&&void 0!==e_&&e_)||!!(null!==(eb=null!==(eh=null==eA?void 0:null===(N=eA.metadata_entries)||void 0===N?void 0:null===(O=N.price)||void 0===O?void 0:O.regular_price_v2)&&void 0!==eh?eh:null==eA?void 0:null===(Q=eA.metadata_entries)||void 0===Q?void 0:null===(V=Q.price)||void 0===V?void 0:V.discount_price_v2)&&void 0!==eb&&eb);return u({isItemFirstSearch:ek,heightOptions:{badgeCount:eP,extraHeightContent:{calloutDisplayString:eM,additionalVariantsInfo:eD,rating:eH,pricePerWeight:eO,price:eN,superscriptedPrice:eV,memberPrice:!!(null!==(ex=null!==(ey=null==eA?void 0:null===(B=eA.metadata_entries)||void 0===B?void 0:null===(Z=B.price)||void 0===Z?void 0:null===(q=Z.member_price)||void 0===q?void 0:q.membership_price)&&void 0!==ey?ey:null==eA?void 0:null===(G=eA[eR])||void 0===G?void 0:null===($=G.base)||void 0===$?void 0:null===(Y=$.price)||void 0===Y?void 0:Y.member_price_v2)&&void 0!==ex&&ex)||!!(null!==(eE=null!==(eC=null==eA?void 0:null===(X=eA[eR])||void 0===X?void 0:null===(K=X.base)||void 0===K?void 0:null===(W=K.price)||void 0===W?void 0:null===(U=W.member_price)||void 0===U?void 0:U.membership_price)&&void 0!==eC?eC:null==eA?void 0:null===(el=eA[eR])||void 0===el?void 0:null===(ee=el.base)||void 0===ee?void 0:null===(J=ee.price)||void 0===J?void 0:J.member_price_v2)&&void 0!==eE&&eE),subtext:!!(null!==(ew=null==eA?void 0:null===(ei=eA.metadata_entries)||void 0===ei?void 0:ei.subtext)&&void 0!==ew&&ew)||!!(null!==(eT=null==eA?void 0:null===(en=eA[eR])||void 0===en?void 0:null===(et=en.base)||void 0===et?void 0:et.subtext)&&void 0!==eT&&eT),standardBadgeAndText:!!(null!==(eI=null==eA?void 0:null===(eo=eA.metadata_entries)||void 0===eo?void 0:eo.standard_badge_and_text)&&void 0!==eI&&eI)},additionalHeightPerContent:eL?t.Qm:t.m7,defaultHeight:eF&&!ej?r.$w+ez:r.q4+ez,defaultContent:0}})},v=e=>{var l,i,n,o,r,d;let a=!!(null===(l=e.logging)||void 0===l?void 0:l.is_item_first_search),s=null===(i=e.text)||void 0===i?void 0:i.custom;return u({isItemFirstSearch:a,heightOptions:{badgeCount:(null!==(d=null===(n=e.custom)||void 0===n?void 0:n.badges)&&void 0!==d?d:[]).length,extraHeightContent:{calloutDisplayString:!!(null==s?void 0:s.callout_display_string),additionalVariantsInfo:!!(null==s?void 0:s.additional_variants_text),rating:!!(null===(r=e.custom)||void 0===r?void 0:null===(o=r.rating)||void 0===o?void 0:o.average_rating),pricePerWeight:!!(null==s?void 0:s.price_per_weight_string),memberPrice:!!(null==s?void 0:s.member_price_string),subtext:!1},defaultHeight:t.yw}})},f=e=>{var l,i,t,r;let{children:d,isMobile:a=!1,isGridItem:u=!0}=e,s=null==d?void 0:null===(i=d[0])||void 0===i?void 0:null===(l=i.component)||void 0===l?void 0:l.id;if(!d||!s||!o.y.includes(s))return null;let f=new Map;for(let e of d){let l;if(!e||!(null===(t=e.component)||void 0===t?void 0:t.id)||!o.y.includes(e.component.id))continue;switch(s){case n.kF.CARD_FLEXIBLE_ITEM_SQUARE:l=v(e);break;case n.kF.CARD_RETAIL_ITEM_CARD:l=c({data:e,isGridItem:u,isMobile:a})}let i=null!==(r=e.id)&&void 0!==r?r:"";f.set(i,l)}return f},g=e=>{let l=0;if(!e)return l;for(let n of e.values()){var i,t;let e=Math.max(null!==(i=null==n?void 0:n.height)&&void 0!==i?i:0,null!==(t=null==n?void 0:n.maxHeight)&&void 0!==t?t:0);e>l&&(l=e)}return l}},844754:function(e,l,i){i.d(l,{c:function(){return a}});var t=i(82282),n=i(42823),o=i(871870),r=i(516912),d=i(152724);let a=e=>{let{filters:l}=(0,t.cX)(),i=(0,d.p)(),a=!!i&&(0,r.w)(i),u=(0,o.$)(l);return{...{...u&&{[n.zl.PAGE_SEARCH]:u},is_dyf:a},...e}}},472845:function(e,l,i){i.d(l,{IM:function(){return n},Z0:function(){return t}});let t={LOAD:"load",SELECT:"select",UNSELECT:"unselect",CLEAR:"clear"},n={AUTOCOMPLETE:"autocomplete",RESULTS:"results",LOCAL_FILTER:"local_filter",LOCAL_SORT:"local_sort"}},514719:function(e,l,i){i.d(l,{tY:function(){return _}});var t=i(313773),n=i(938122),o=i(734450),r=i(472845),d=i(186927),a=i(20512);let u=(e,l,i)=>i&&i.selectedFilters?{...l,pageContext:{...l.pageContext,selectedFilters:i.selectedFilters}}:l;var s=i(851593);let c=(e,l)=>{let i={filterId:e.filterId,filterValue:e.filterName};return"range"===e.filterType&&(i.filterRangeType=l||"unknown"),(0,s.g9)([i])[0]},v=(e,l)=>{var i;if(void 0===e)return l;let t=l.find(l=>l.filter_id===e.filter_id);if(!t)return[...l,e];let n=new Set(t.filter_values||[]);null===(i=e.filter_values)||void 0===i||i.forEach(e=>n.add(e));let o={...t,filter_values:n.size>0?Array.from(n):void 0,upper_bound:e.upper_bound,lower_bound:e.lower_bound};return l.map(e=>e.filter_id===o.filter_id?o:e)},f=(e,l)=>void 0===e?l:l.map(l=>{var i;if(l.filter_id!==e.filter_id)return l;if(void 0!==l.upper_bound||void 0!==l.lower_bound)return;let t=new Set(l.filter_values||[]);if(null===(i=e.filter_values)||void 0===i||i.forEach(e=>t.delete(e)),0!==t.size)return{...l,filter_values:Array.from(t)}}).filter(e=>void 0!==e),g=(e,l)=>{var i,t;if("failure"===e.result||!e.actionResultPayload)return{};let{actionType:n}=e.actionResultPayload;if("clear"===n)return{filter:void 0,selectedFilter:void 0,selectedFilters:{valueKeys:[],values:[]}};let{filter:o,selectedFilter:r,rangeValue:d}=e.actionResultPayload,a=(null===(i=l.selectedFilters)||void 0===i?void 0:i.values)||[],u=(null===(t=l.selectedFilters)||void 0===t?void 0:t.valueKeys)||[];switch(n){case"select":a=v(r,a),u=[...u,c(o,d)];break;case"unselect":a=f(r,a);let s=c(o,d);u=u.filter(e=>e!==s)}return{filter:o,selectedFilter:r,selectedFilters:{values:a,valueKeys:u}}},p=e=>e.actionType===r.Z0.CLEAR?e:"range"===e.filter.filterType?{rangeValue:"unknown",...e}:{actionType:e.actionType,filter:e.filter,selectedFilter:e.selectedFilter},m=(e,l)=>new o.Z({events:{actionType:e,eventType:"cx_action_filter"},mangerMethods:l}),_=()=>{let{replaceContexts:e,registerActionEvent:l,getCurrentContexts:i}=t.useContext(d.V),o=(0,a.j)().current,r=(0,a.j)().current,s=t.useCallback(i=>{let t=(0,n.Z)(),d=p(i);r.set(t,d);let a=m(i.actionType,{replaceContexts:e,enqueueActionEvent:l});return o.set(t,a),a.markEventStart(),t},[o,l,e,r]),c=t.useCallback((e,l,t)=>{let n=o.get(e),d=r.get(e);if(!n||!d)return;let{pageContext:a}=i();n.markEventEndWithOptionalData({actionResultPayload:d,computeCustomProps:e=>g(e,a),replaceContextBeforeEventEmit:u,...l},t),o.delete(e),r.delete(e)},[o,r,i]);return{registerFilterEvent:t.useCallback((e,l,i)=>{c(s(e),l,i)},[s,c])}}}}]);
//# sourceMappingURL=22634-e1a9feec5a797d55.js.map
//# debugId=d47c832c-4d85-5dbc-846f-a239a3461c01
